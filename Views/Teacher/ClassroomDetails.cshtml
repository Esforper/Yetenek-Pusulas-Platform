@* Views/Teacher/ClassroomDetails.cshtml *@
@model YetenekPusulasi.WebApp.Models.ClassroomViewModels.ClassroomDetailsViewModel

@{
    ViewData["Title"] = $"Sınıf Detayları: {Model.Classroom.Name}";
}

<div>
    <h3>@Model.Classroom.Name</h3>
    <hr />
    <dl class="row">
        <dt class="col-sm-3">Açıklama</dt>
        <dd class="col-sm-9">@(Model.Classroom.Description ?? "Açıklama yok.")</dd>

        <dt class="col-sm-3">Katılım Kodu</dt>
        <dd class="col-sm-9"><strong>@Model.Classroom.ParticipationCode</strong></dd>

        <dt class="col-sm-3">Oluşturan Öğretmen</dt>
        <dd class="col-sm-9">@Model.Classroom.Teacher?.UserName</dd>
    </dl>
</div>
<hr/>

<h4>Bu Sınıfa Ait Senaryolar</h4>
<p>
    <a asp-action="CreateScenarioForClassroom" asp-route-classroomId="@Model.Classroom.Id" class="btn btn-success mb-2">
        <i class="bi bi-plus-circle"></i> Bu Sınıfa Yeni Senaryo Ekle
    </a>
</p>

@* ... (Sınıf bilgileri ve "Bu Sınıfa Yeni Senaryo Ekle" butonu) ... *@

@if (Model.Scenarios.Any())
{
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Başlık</th>
                <th>Tür</th>
                <th>Oluşturulma Tarihi</th>
                <th>İşlemler</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var scenario in Model.Scenarios)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => scenario.Title)</td>
                    <td>@Html.DisplayFor(modelItem => scenario.Type)</td>
                    <td>@scenario.CreatedDate.ToShortDateString()</td>
                    <td>
                        <a asp-action="ViewScenarioAnswers" asp-controller="Teacher" asp-route-scenarioId="@scenario.Id" class="btn btn-sm btn-info">
                            Cevapları Görüntüle
                        </a>
                        @* İleride Düzenle/Sil linkleri eklenebilir *@
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
@* ... (else bloğu) ... *@




@if (Model.Scenarios.Any())
{
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Başlık</th>
                <th>Tür</th>
                <th>Oluşturulma Tarihi</th>
                <th>İşlemler</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var scenario in Model.Scenarios)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => scenario.Title)</td>
                    <td>@Html.DisplayFor(modelItem => scenario.Type)</td>
                    <td>@scenario.CreatedDate.ToShortDateString()</td>
                    <td>
                        @* İleride Senaryo Detay/Düzenle/Sil linkleri buraya eklenebilir *@
                        @* <a asp-controller="Scenario" asp-action="Details" asp-route-id="@scenario.Id" class="btn btn-sm btn-info">Detay</a> *@
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <div class="alert alert-info" role="alert">
        Bu sınıfa henüz atanmış bir senaryo bulunmamaktadır. Yukarıdaki butonu kullanarak yeni bir senaryo ekleyebilirsiniz.
    </div>
}

<hr />

<h4>Sınıftaki Öğrenciler (@Model.Students.Count)</h4>
@if (Model.Students.Any())
{
    <ul class="list-group">
        @foreach (var student in Model.Students)
        {
            <li class="list-group-item">@student.UserName</li>
        }
    </ul>
}
else
{
    <p>Bu sınıfta henüz kayıtlı öğrenci bulunmamaktadır.</p>
}

<div class="mt-3">
    <a asp-action="Dashboard" class="btn btn-outline-secondary">Öğretmen Paneline Geri Dön</a>
</div>